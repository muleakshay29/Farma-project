<h3 class="h3 mb-4 text-gray-800 border-bottom pb-2">Employee Master</h3>

<div class="progress-spinner" *ngIf="showSpinner">
  <mat-spinner *ngIf="showSpinner"></mat-spinner>
</div>

<!-- <div class="card">
  <div class="card-header text-right">
    <button type="button" routerLink="/add-employee" class="btn btn-success">
      <i class="fas fa-plus-circle"></i> &nbsp; Add New
    </button>
  </div>

  <div class="card-body">
    <div class="form-group">
      <input
        type="search"
        (keyup)="applyFilter($event.target.value)"
        class="form-control rounded-pill"
        placeholder="Search"
      />
    </div>

    <div class="table-responsive shadow">
      <table
        mat-table
        [dataSource]="dataSource"
        matSort
        class="table table-bordered table-hover mb-0"
      >
        <ng-container matColumnDef="Action">
          <th *matHeaderCellDef class="text-center">Action</th>
          <td class="text-center" *matCellDef="let element">
            <a
              href="javascript:void(0)"
              (click)="openModalWithComponent(element.Emp_name, element._id)"
              matTooltip="Delete"
              matTooltipPosition="above"
            >
              <i class="fas fa-times"></i>
            </a>
            &nbsp; | &nbsp;
            <a
              routerLink="/add-employee/{{ element._id }}"
              matTooltip="Edit"
              matTooltipPosition="above"
            >
              <i class="fas fa-pencil-alt"></i>
            </a>
          </td>
        </ng-container>

        <ng-container matColumnDef="Emp_name">
          <th *matHeaderCellDef class="text-center" mat-sort-header>
            Employee Name
          </th>
          <td *matCellDef="let element" class="text-center">
            {{ element.Emp_name }}
          </td>
        </ng-container>

        <ng-container matColumnDef="Email_id">
          <th *matHeaderCellDef class="text-center" mat-sort-header>
            Employee Email
          </th>
          <td *matCellDef="let element" class="text-center">
            {{ element.Email_id }}
          </td>
        </ng-container>

        <ng-container matColumnDef="Mobile_no">
          <th *matHeaderCellDef class="text-center" mat-sort-header>
            Employee Mobile
          </th>
          <td *matCellDef="let element" class="text-center">
            {{ element.Mobile_no }}
          </td>
        </ng-container>

        <ng-container matColumnDef="Type_of_user">
          <th *matHeaderCellDef class="text-center" mat-sort-header>
            User Type
          </th>
          <td *matCellDef="let element" class="text-center">
            {{ element.Type_of_user.CMC_Name }}
          </td>
        </ng-container>

        <tr
          mat-header-row
          *matHeaderRowDef="displayedColumns"
          class="text-center thead-dark"
        ></tr>
        <tr
          mat-row
          *matRowDef="let row; columns: displayedColumns"
          class="text-center"
        ></tr>
      </table>
    </div>
  </div>

  <div class="card-footer p-0">
    <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
  </div>
</div> -->

<div class="card">
  <div class="card-header text-right">
    <button type="button" routerLink="/add-employee" class="btn btn-success">
      <i class="fas fa-plus-circle"></i> &nbsp; Add New
    </button>
  </div>

  <div class="card-body">
    <div class="form-group">
      <input
        type="search"
        class="form-control rounded-pill"
        placeholder="Search Employee"
        (keyup)="findEmployee($event)"
      />
    </div>

    <div class="table-responsive shadow">
      <table class="table table-bordered table-hover mb-0">
        <thead class="thead-dark">
          <th class="text-center">Action</th>
          <th class="text-center">Employee Name</th>
          <th class="text-center">Employee Email</th>
          <th class="text-center">Employee Mobile</th>
          <th class="text-center">User Type</th>
        </thead>

        <tbody>
          <tr *ngFor="let content of returnedArray">
            <td class="text-center">
              <a
                href="javascript:void(0)"
                (click)="openModalWithComponent(content.Emp_name, content._id)"
                matTooltip="Delete"
                matTooltipPosition="above"
              >
                <i class="fas fa-times"></i>
              </a>
              &nbsp; | &nbsp;
              <a
                routerLink="/add-employee/{{ content._id }}"
                matTooltip="Edit"
                matTooltipPosition="above"
              >
                <i class="fas fa-pencil-alt"></i>
              </a>
            </td>

            <td class="text-center">{{ content.Emp_name }}</td>
            <td class="text-center">{{ content.Email_id }}</td>
            <td class="text-center">{{ content.Mobile_no }}</td>
            <td class="text-center">{{ content.Type_of_user.CMC_Name }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="card-footer">
    <appPagination
      [dataLength]="dataLength"
      [itemsPerPage]="itemsPerPage"
      (pageChanged)="pageChanged($event)"
      (change)="setItemPerPage($event)"
    ></appPagination>
  </div>
</div>
