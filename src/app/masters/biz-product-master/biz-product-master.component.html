<h3 class="h3 mb-4 text-gray-800 border-bottom pb-2">Add Business Product</h3>

<div class="card shadow mb-4">
  <div class="card-body">
    <form
      [formGroup]="bizProductMaster"
      #formDirective="ngForm"
      (ngSubmit)="onSubmit()"
    >
      <div class="form-group">
        <!-- <input
          formControlName="Product"
          [typeahead]="productList"
          typeaheadOptionField="PRO_Name"
          (typeaheadOnSelect)="onSelect($event)"
          [typeaheadOptionsInScrollableView]="5"
          class="form-control rounded-pill"
          placeholder="Search Product"
          adaptivePosition="true"
        /> -->

        <input
          type="text"
          class="form-control rounded-pill"
          formControlName="Product"
          placeholder="Search Product"
          [matAutocomplete]="auto"
          (keypress)="findProduct($event)"
        />
        <mat-autocomplete
          #auto="matAutocomplete"
          (optionSelected)="onSelect($event.option.value)"
        >
          <mat-option *ngFor="let prod of productList" [value]="prod">
            {{ prod.PRO_Name }}
          </mat-option>
        </mat-autocomplete>

        <app-error-message [control]="Product"></app-error-message>
      </div>

      <div class="form-group">
        <input
          type="hidden"
          formControlName="PRO_code"
          class="form-control rounded-pill"
        />
      </div>

      <div class="card">
        <div class="card-body">
          <div class="form-group row">
            <div class="col-sm-6 mb-3 mb-sm-0">
              <label><strong>Product Name</strong></label>
              <input
                type="text"
                class="form-control rounded-pill"
                placeholder="Product Name"
                [value]="PRO_Name"
                readonly
              />
            </div>
            <div class="col-sm-6">
              <label><strong>Barcode</strong></label>
              <input
                type="text"
                class="form-control rounded-pill"
                placeholder="Barcode"
                [value]="PRO_Barcode"
                readonly
              />
            </div>
          </div>

          <div class="form-group row">
            <div class="col-sm-6 mb-3 mb-sm-0">
              <label><strong>Manufraturer Name</strong></label>
              <input
                type="text"
                class="form-control rounded-pill"
                placeholder="Manufraturer Name"
                [value]="PRO_Manufraturer"
                readonly
              />
            </div>
            <div class="col-sm-6">
              <label><strong>SGST</strong></label>
              <input
                type="number"
                class="form-control rounded-pill"
                placeholder="SGST"
                [value]="PRO_SGST"
                readonly
              />
            </div>
          </div>

          <div class="form-group row">
            <div class="col-sm-6 mb-3 mb-sm-0">
              <label><strong>CGST</strong></label>
              <input
                type="number"
                class="form-control rounded-pill"
                placeholder="CGST"
                [value]="PRO_CGST"
                readonly
              />
            </div>
            <div class="col-sm-6">
              <label><strong>IGST</strong></label>
              <input
                type="number"
                class="form-control rounded-pill"
                placeholder="IGST"
                [value]="PRO_IGST"
                readonly
              />
            </div>
          </div>

          <div class="form-group row">
            <div class="col-sm-6 mb-3 mb-sm-0">
              <label><strong>CESS</strong></label>
              <input
                type="number"
                class="form-control rounded-pill"
                placeholder="Product CESS"
                [value]="PRO_CESS"
                readonly
              />
            </div>
            <div class="col-sm-6">
              <label><strong>HSN</strong></label>
              <input
                type="text"
                class="form-control rounded-pill"
                placeholder="HSN"
                [value]="PRO_HSN"
                readonly
              />
            </div>
          </div>

          <div class="form-group row">
            <div class="col-sm-6 mb-3 mb-sm-0">
              <label><strong>Content</strong></label>
              <input
                type="text"
                class="form-control rounded-pill"
                placeholder="Content"
                [value]="PRO_Content"
                readonly
              />
            </div>

            <div class="col-sm-6">
              <img [src]="imgURL" width="200" class="img-thumbnail" /> <br />
            </div>
          </div>

          <div class="form-group row">
            <div class="col-sm-6 mb-3 mb-sm-0">
              <label><strong>Reorder Level</strong></label>
              <input
                type="number"
                class="form-control rounded-pill"
                placeholder="Reorder Level"
                [value]="PRO_ReorderLevel"
                readonly
              />
            </div>
            <div class="col-sm-6">
              <label><strong>Minimum Stock</strong></label>
              <input
                type="number"
                class="form-control rounded-pill"
                placeholder="Minimum Stock"
                [value]="PRO_Minimum_stock"
                readonly
              />
            </div>
          </div>

          <div class="form-group row">
            <div class="col-sm-6 mb-3 mb-sm-0">
              <label><strong>Scheduled</strong></label>
              <select
                class="form-control rounded-pill"
                [value]="PRO_ScheduledUnder"
                disabled
              >
                <option value="">Scheduled</option>
                <option value="1">Yes</option>
                <option value="2">No</option>
              </select>
            </div>

            <div class="col-sm-6">
              <label><strong>Type of Product</strong></label>
              <select
                class="form-control rounded-pill"
                [value]="PRO_Type"
                disabled
              >
                <option value="">Type of Product</option>
                <option
                  value="{{ ptype._id }}"
                  *ngFor="let ptype of typeOfProduct"
                  >{{ ptype.CMC_Name }}</option
                >
              </select>
            </div>
          </div>

          <div class="form-group text-center">
            <button
              type="submit"
              value="submit"
              class="btn btn-primary btn-user rounded-pill"
              [disabled]="!bizProductMaster.valid"
            >
              Submit
            </button>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
